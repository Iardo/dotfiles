# Configuration
# --------------------
$fileManager = nautilus
$menu = rofi -show drun -show-icons
$terminal = wezterm
$wezquake_attach = hdrop 'wezterm start --attach "quake"' -w 100 -h 50 --floating --class "wezterm.quake"
$wezquake_open = hdrop 'wezterm start --class "wezterm.quake" --domain "quake"' -w 100 -h 50 --gap 0 --position t --background --floating --class "wezterm.quake"

# Environment
# --------------------
env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24

# Autostart
# --------------------
exec-once = lxqt-policykit-agent
exec-once = mako
exec-once = nm-applet --indicator
exec-once = waybar
exec-once = swww init
exec-once = swww img ~/pictures/leafs.jpg
exec-once = $wezquake_open


# Windows
# --------------------
monitor = DP-3, highres@60, auto, 1.20
# Opacity
windowrulev2 = nodim, class:^(mpv)$
windowrulev2 = nodim, title:.*[Yy][Oo][Uu][Tt][Uu][Bb][Ee].*
windowrulev2 = opacity 1.0 0.7 suppressevent maximize, class:.*
windowrulev2 = opacity 1.0, class:^(mpv)$
windowrulev2 = opacity 1.0, title:.*[Yy][Oo][Uu][Tt][Uu][Bb][Ee].*
# Workspace
windowrulev2 = workspace 2, class:.*
windowrulev2 = workspace 1, class:^(mpv)$
windowrulev2 = workspace 2, class:^(firefox)$
windowrulev2 = workspace 3, class:^(code-url-handler)$
windowrulev2 = workspace 4, class:^(discord)$
windowrulev2 = workspace 4, class:^(org.telegram.desktop)$
# Behavior
windowrulev2 = float, class:^(org.gnome.NautilusPreviewer)$
windowrulev2 = float, title:^(Authentication Required)$
windowrulev2 = group barred, class:^(org.gnome.Nautilus)$
windowrulev2 = group set invade, class:^(code-url-handler)$
windowrulev2 = group set invade, class:^(firefox)$
windowrulev2 = group set invade, class:^(mpv)$
windowrulev2 = group set locked, class:^(org.telegram.desktop|discord)$
windowrulev2 = maximize, class:^(discord)$
windowrulev2 = maximize, class:^(milkytracker)$
windowrulev2 = maximize, class:^(mpv)$
windowrulev2 = maximize, class:^(org.telegram.desktop)$
windowrulev2 = tile, class:^(discord)$
# Focus
windowrulev2 = stayfocused, title:^(Authentication Required)$
# Size
# windowrulev2 = maxsize: 100 auto, class:^(org.telegram.desktop)$

# Workspaces
# --------------------
workspace = 1, monitor:DP-3, persistent:true, default:true
workspace = 2, monitor:DP-3, persistent:true, default:true
workspace = 3, monitor:DP-3, persistent:true, default:true
workspace = 4, monitor:DP-3, persistent:true, default:true
exec-once = hyprctl dispatch workspace 2


# Keybindings
# --------------------
$mainMod = SUPER
# Functions
bind = $mainMod ALT, C, exec, $wezquake_open
bind = $mainMod SHIFT, C, exec, $terminal
bind = $mainMod SHIFT, E, exec, $fileManager
bind = $mainMod, C, exec, $wezquake_attach
bind = $mainMod, E, exec, kitty -e lf
bind = $mainMod, F, fullscreen
bind = $mainMod, J, togglesplit, # dwindle
bind = $mainMod, M, exit,
bind = $mainMod, N, exec, $terminal -e nvim -c :Ex
bind = $mainMod, O, exec, rofi -show drun -show-icons
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, Q, killactive,
bind = $mainMod, R, exec, $menu
bind = $mainMod, V, togglefloating,
# Focus
bind = $mainMod, h, movefocus, l
bind = $mainMod, j, movefocus, d
bind = $mainMod, k, movefocus, u
bind = $mainMod, l, movefocus, r
# Cycle
bind = ALT SHIFT, Tab, cyclenext, prev
# bind = ALT, Tab, bringactivetotop
# bind = ALT, Tab, cyclenext
# bind = ALT, Tab, hycov:toggleoverview
# Workspaces
bind = $mainMod SHIFT, 0, movetoworkspace, 10
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod, 0, workspace, 10
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, h, workspace, r-1
bind = $mainMod, l, workspace, r+1
bind = ALT, Grave, hyprexpo:expo, toggle
# Scratchpad
# bind = $mainMod, S, togglespecialworkspace, magic
# bind = $mainMod SHIFT, S, movetoworkspace, special:magic
# Groups
bind = $mainMod, G, togglegroup,
bind = $mainMod, TAB, changegroupactive, f
bind = $mainMod SHIFT, TAB, changegroupactive,
bind = $mainMod CTRL, H, movegroupwindow, f
bind = $mainMod CTRL, L, movegroupwindow, previous
# Windows
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow


# Theme
# --------------------
animations {
  enabled = true
  bezier = curve, 0.05, 0.9, 0.1, 1.05
  animation = border, 1, 10, default
  animation = borderangle, 1, 8, default
  animation = fade, 1, 4, default
  animation = windows, 1, 4, curve
  animation = windowsOut, 1, 4, default, popin 80%
  animation = workspaces, 1, 2, default
}
decoration {
  active_opacity = 1.0
  col.shadow = rgba(1a1a1aee)
  dim_inactive = true
  dim_strength = 0.5
  drop_shadow = false
  inactive_opacity = 1.0
  rounding = 2
  shadow_range = 4
  shadow_render_power = 3
  blur {
    enabled = true
    passes = 1
    size = 3
    vibrancy = 0.1696
  }
}
device {
  name = epic-mouse-v1
  sensitivity = -0.5
}
dwindle {
  # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
  pseudotile = true
  preserve_split = true
}
general { 
  allow_tearing = false
  border_size = 2
  col.active_border = rgba(E0E0E0ee)
  col.inactive_border = rgba(595959aa)
  gaps_in = 1
  gaps_out = 6
  layout = dwindle
  resize_on_border = false
}
gestures {
  workspace_swipe = false
}
group {
  col.border_active = rgba(00000088)
  col.border_inactive = rgba(00000022)
  groupbar {
    enabled = true
    font_family = Roboto Mono Medium for Powerline
    scrolling = false
    render_titles = true
    font_size = 10
    height = 18
    text_color = rgba(b8ff3dee)
    col.active = rgba(365314EE)
    col.inactive = rgba(000000BB)
  }
}
input {
  follow_mouse = 1
  kb_layout = us
  kb_model =
  kb_options =
  kb_rules =
  kb_variant =
  sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
  touchpad {
    natural_scroll = false
  }
}
master {
  new_status = master
}
misc { 
  animate_manual_resizes = true
  animate_mouse_windowdragging = true
  disable_hyprland_logo = true
  focus_on_activate = true
  force_default_wallpaper = 0
}

# Plugins
# --------------------
plugin {
    hycov {
    alt_replace_key = Alt_L
    alt_toggle_auto_next = 0
    auto_exit = 1
    auto_fullscreen = 0
    click_in_cursor = 1
    enable_alt_release_exit = 0
    enable_click_action = 1
    enable_gesture = 0
    enable_hotarea = 1
    hight_of_titlebar = 0
    hotarea_monitor = all
    hotarea_pos = 1
    hotarea_size = 10
    move_focus_distance = 100
    only_active_monitor = 0
    only_active_workspace = 0
    overview_gappi = 24
    overview_gappo = 60
    raise_float_to_top = 1
    show_special = 0
    swipe_fingers = 4
  }
  hyprexpo {
    bg_col = rgb(111111)
    columns = 3
    enable_gesture = true # laptop touchpad
    gap_size = 5
    gesture_distance = 300
    gesture_fingers = 3
    gesture_positive = true # positive = swipe down. Negative = swipe up.
    workspace_method = center current # [center/first] [workspace] e.g. first 1 or center m+1
  }
  hyprfocus {
    enabled = no
    bezier = bezIn, 0.5,0.0,1.0,0.5
    bezier = bezOut, 0.0,0.5,0.5,1.0
    keyboard_focus_animation = shrink
    mouse_focus_animation = flash
    flash {
      flash_opacity = 0.7
      in_bezier = bezIn
      in_speed = 0.5
      out_bezier = bezOut
      out_speed = 3
    }
    shrink {
      in_bezier = bezIn
      in_speed = 0.5
      out_bezier = bezOut
      out_speed = 3
      shrink_percentage = 0.8
    }
  }
}
